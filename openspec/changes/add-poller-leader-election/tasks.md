## 1. 选主数据结构与配置

- [x] 1.1 设计并创建主节点租约存储（单行租约表或等价机制）
- [x] 1.2 定义节点身份环境变量 `CHECK_NODE_ID` 与默认值
- [x] 1.3 定义租约时长与续租频率的固定常量

## 2. 选主与续租逻辑

- [x] 2.1 在轮询入口增加主节点判定，仅主节点执行 Provider 请求
- [x] 2.2 实现租约获取与续租，失败时停止轮询并降级为备节点
- [x] 2.3 实现主节点失效后的接管流程

## 3. 运行时可观测性

- [x] 3.1 记录节点角色变化（leader/standby）日志
- [x] 3.2 暴露当前节点角色给运行时诊断（日志或内存状态）

## 4. 手动验证

- [ ] 4.1 多节点并行启动，确认仅一个节点发起请求
- [ ] 4.2 主节点停止或超时后，备节点在可接受时间内接管
- [ ] 4.3 单节点部署回归验证，行为与现有一致
